<tw-modal
  [open]="_open()"
  [size]="'sm'"
  [closeOnBackdropClick]="!_loading()"
  [closeOnEscape]="!_loading()"
  [showCloseButton]="!_loading()"
  (openChange)="openChange.emit($event)"
  (closed)="onCancel()">
  <tw-modal-header>
    <tw-modal-title>{{ _title() }}</tw-modal-title>
  </tw-modal-header>
  <tw-modal-body>
    <p class="text-slate-600">{{ _message() }}</p>
    <ng-content></ng-content>
  </tw-modal-body>
  <tw-modal-footer>
    <button
      type="button"
      class="px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:opacity-50"
      [disabled]="_loading()"
      (click)="onCancel()">
      {{ _cancelText() }}
    </button>
    <button
      type="button"
      [class]="confirmButtonClasses()"
      [disabled]="_loading()"
      (click)="onConfirm()">
      @if (_loading()) {
        <svg class="animate-spin -ml-1 mr-2 h-4 w-4" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
      }
      {{ _confirmText() }}
    </button>
  </tw-modal-footer>
</tw-modal>
