<div [class]="containerClasses()">
  <!-- Inner container with overflow-hidden for image clipping -->
  <div [class]="innerClasses()">
    @if (srcVal()) {
      <img
        [src]="srcVal()"
        [alt]="altVal()"
        class="w-full h-full object-cover"
        (error)="onImageError()"
      />
    } @else if (initialsVal()) {
      <span [class]="initialsClasses()">{{ initialsVal() }}</span>
    } @else {
      <svg class="w-3/5 h-3/5 text-current" fill="currentColor" viewBox="0 0 24 24">
        <path
          d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
        />
      </svg>
    }
  </div>

  <!-- Status indicator (outside overflow container) -->
  @if (statusVal() !== 'none') {
    <span [class]="statusClasses()"></span>
  }

  <!-- Badge (outside overflow container) -->
  @if (badgeVal()) {
    <span [class]="badgeClasses()">{{ badgeVal() }}</span>
  }
</div>
